{"ast":null,"code":"var _jsxFileName = \"D:\\\\InternshipWork\\\\WorldRefInternshipTask\\\\client\\\\src\\\\components\\\\mainpages\\\\cart\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState';\nimport axios from 'axios';\nimport Paypal from './Paypal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  const state = useContext(GlobalState);\n  const [cart, setCart] = state.UserAPI.cart;\n  const [total, setTotal] = useState(0);\n  const [token] = state.token;\n  useEffect(() => {\n    const getTotal = () => {\n      const total = cart.reduce((prev, item) => {\n        return prev + item.price * item.quantity;\n      }, 0);\n      setTotal(total);\n    };\n\n    getTotal();\n  }, [cart]);\n\n  const addToCart = async cart => {\n    await axios.patch('/user/addcart', {\n      cart\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n  };\n\n  const increment = id => {\n    cart.forEach(item => {\n      if (item._id === id) {\n        item.quantity += 1;\n      }\n    });\n    setCart([...cart]);\n    addToCart(cart);\n  };\n\n  const decrement = id => {\n    cart.forEach(item => {\n      if (item._id === id) {\n        item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1;\n      }\n    });\n    setCart([...cart]);\n  };\n\n  const removeProduct = id => {\n    if (window.confirm(\"Do you want to delete this product?\")) {\n      cart.forEach((item, index) => {\n        if (item._id === id) {\n          cart.splice(index, 1);\n        }\n      });\n      setCart([...cart]);\n    }\n  };\n\n  if (cart.length === 0) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    style: {\n      textAlign: \"center\",\n      fontSize: \"5rem\"\n    },\n    children: \"Cart Empty\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 16\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cnt\",\n    style: {\n      marginLeft: '10%'\n    },\n    children: [cart.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container detail cart\",\n      style: {\n        padding: '0rem 11rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.images.url,\n        alt: \"\",\n        srcset: \"\",\n        style: {\n          width: '100%',\n          marginLeft: '3%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-detail\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: product.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"$\", product.price * product.quantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: product.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"amount\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              decrement(product._id);\n            },\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: product.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              increment(product._id);\n            },\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delete\",\n          onClick: () => {\n            removeProduct(product._id);\n          },\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 4\n      }, this)]\n    }, product._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 6\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Total : $ \", total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Paypal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Cart, \"OUn3Rd4tRBxfFGe/WoBrFIsHvzU=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["D:/InternshipWork/WorldRefInternshipTask/client/src/components/mainpages/cart/Cart.js"],"names":["React","useContext","useEffect","useState","Link","GlobalState","axios","Paypal","Cart","state","cart","setCart","UserAPI","total","setTotal","token","getTotal","reduce","prev","item","price","quantity","addToCart","patch","headers","Authorization","increment","id","forEach","_id","decrement","removeProduct","window","confirm","index","splice","length","textAlign","fontSize","marginLeft","map","product","padding","images","url","width","title","description","content"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios';\r\nimport Paypal from './Paypal'\r\n\r\nfunction Cart() {\r\n const state = useContext(GlobalState)\r\n const [cart , setCart] = state.UserAPI.cart\r\n const [total , setTotal] = useState(0)\r\nconst [token] = state.token\r\n\r\n useEffect(()=>{\r\n    const getTotal=()=>{\r\n        const total = cart.reduce((prev,item)=>{\r\n            return prev + (item.price * item.quantity)\r\n        },0)\r\n        setTotal(total)\r\n    }\r\n    getTotal()\r\n\r\n    \r\n },[cart])\r\n\r\n const addToCart = async(cart)=>{\r\n   await axios.patch('/user/addcart',{cart},{\r\n     headers : {Authorization:token}\r\n   })\r\n }\r\n\r\n const increment = (id)=>{\r\n    cart.forEach(item=>{\r\n      if(item._id === id){\r\n        item.quantity += 1\r\n      }\r\n    })\r\n\r\n    setCart([...cart])\r\n    addToCart(cart)\r\n }\r\n\r\n  const decrement = (id)=>{\r\n    cart.forEach(item=>{\r\n      if(item._id === id){\r\n        item.quantity === 1 ? item.quantity =1 : item.quantity -= 1\r\n      }\r\n    })\r\n\r\n    setCart([...cart])\r\n }\r\n\r\n const removeProduct = (id)=>{\r\n   if(window.confirm(\"Do you want to delete this product?\")){\r\n     cart.forEach((item , index)=>{\r\n       if(item._id === id){\r\n         cart.splice(index,1)\r\n       }\r\n     })\r\n     setCart([...cart])\r\n   }\r\n }\r\n\r\n\r\n if(cart.length === 0) \r\n        return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart Empty</h2> \r\n return (\r\n  <div className=\"cnt\" style={{marginLeft:'10%'}} >\r\n  {\r\n   cart.map(product =>(\r\n     <div className=\"container detail cart\" key={product._id} style={{padding: '0rem 11rem'}}>\r\n   <img src={product.images.url} alt=\"\" srcset=\"\" style={{width:'100%',marginLeft:'3%'}} />\r\n\r\n   <div className=\"box-detail\" >\r\n    {/* <div className=\"row\"> */}\r\n     <h2>{product.title}</h2>\r\n     {/* <h6>#id: {product.product_id}</h6> */}\r\n    <h3>${product.price * product.quantity}</h3>\r\n    <p>{product.description}</p>\r\n    <p>{product.content}</p>\r\n\r\n    <div className=\"amount\">\r\n     <button onClick={()=>{\r\n      decrement(product._id)\r\n    }}>-</button>\r\n     <span>{product.quantity}</span>\r\n     <button onClick={()=>{\r\n      increment(product._id)\r\n    }}>+</button>\r\n    </div>\r\n    {/* <Link to=\"/cart\" className=\"cart\">Buy Now</Link> */}\r\n    <div className=\"delete\" onClick={()=>{\r\n      removeProduct(product._id)\r\n    }} >X</div>\r\n   </div>\r\n  </div>\r\n    ) )\r\n  }\r\n  <div className=\"total\">\r\n   <h3 >Total : $ {total}</h3>\r\n   {/* <Link to=\"#!\">Payment</Link> */}\r\n   <Paypal/>\r\n  </div>\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Cart\r\n"]},"metadata":{},"sourceType":"module"}